<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PERUM NINDYA ASRI 1</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #16a34a, #22c55e);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

/* WRAPPER */
.wrapper {
  width: 100%;
  max-width: 420px;
}

/* CARD */
.card {
  background: #fff;
  border-radius: 18px;
  padding: 28px;
  box-shadow: 0 20px 40px rgba(0,0,0,.15);
}

/* HEADER */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.header h3 {
  margin: 0;
  color: #065f46;
}

.logout {
  background: #ef4444;
  border: none;
  color: #fff;
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
}

.logout:hover {
  background: #dc2626;
}

h4 {
  text-align: center;
  margin-bottom: 20px;
  color: #065f46;
}

/* FORM */
label {
  font-size: 14px;
  font-weight: 600;
  margin-top: 12px;
  display: block;
}

input, select {
  width: 100%;
  padding: 12px;
  margin-top: 6px;
  border-radius: 12px;
  border: 1px solid #d1d5db;
  font-size: 14px;
}

input:focus, select:focus {
  outline: none;
  border-color: #22c55e;
  box-shadow: 0 0 0 2px rgba(34,197,94,.2);
}

button.simpan {
  width: 100%;
  margin-top: 18px;
  padding: 12px;
  border-radius: 14px;
  border: none;
  background: #16a34a;
  color: white;
  font-size: 15px;
  font-weight: bold;
  cursor: pointer;
}

button.simpan:hover {
  background: #15803d;
}

#msg {
  margin-top: 14px;
  text-align: center;
  font-weight: bold;
}

/* FOOTER */
.footer {
  text-align: center;
  margin-top: 14px;
  font-size: 12px;
  color: #e5e7eb;
}
</style>
</head>

<body>

<!-- üîê PROTEKSI LOGIN -->
<script>
if (sessionStorage.getItem('admin') !== 'true') {
  location.href = 'login.html';
}
</script>

<div class="wrapper">
  <div class="card">

    <div class="header">
      <h3>SELAMAT DATANG DI WEBSITE</h3>
      <h3>LAPORAN KEUANGAN PERUM NINDYA ASRI 1</h3>
      <h3>KEL.METESEH , KEC.BOJA , KAB.KENDAL</h3>
      <button class="logout" onclick="logout()">Logout</button>
    </div>

    <h4>Silahkan Input</h4>

    <label>Tanggal</label>
    <input type="date" id="tanggal">

    <label>Jenis Transaksi</label>
    <select id="jenis">
      <option>Pemasukan</option>
      <option>Pengeluaran</option>
    </select>

    <label>Keterangan</label>
    <input type="text" id="keterangan" placeholder="Contoh: Iuran warga">

    <label>Jumlah</label>
    <input type="number" id="jumlah" placeholder="Rp">

    <button class="simpan" onclick="simpan()">üíæ Simpan Data</button>

    <div id="msg"></div>

  </div>

  <div class="footer">
    ¬© Perum Nindya Asri 1 ‚Äî RT
  </div>
</div>

<script>
function simpan(){
  document.getElementById('msg').innerText = '‚è≥ Menyimpan data...';

  fetch('https://script.google.com/macros/s/AKfycbwxl263rf_wXePPx8-4Nabz_6vW_1FxeFfe7MtC8mleDq_6AbEP1wPLkh2XIgdprBJPSg/exec', {
    method: 'POST',
    body: new URLSearchParams({
      tanggal: document.getElementById('tanggal').value,
      jenis: document.getElementById('jenis').value,
      keterangan: document.getElementById('keterangan').value,
      jumlah: document.getElementById('jumlah').value
    })
  })
  .then(res => res.text())
  .then(() => {
    document.getElementById('msg').innerText = '‚úÖ Data berhasil disimpan';
    document.getElementById('tanggal').value = '';
    document.getElementById('keterangan').value = '';
    document.getElementById('jumlah').value = '';
  })
  .catch(() => {
    document.getElementById('msg').innerText = '‚ùå Gagal menyimpan data';
  });
}

function logout(){
  sessionStorage.removeItem('admin');
  location.href = 'login.html';
}
</script>

</body>
</html>
